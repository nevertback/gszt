"use strict";!function(){function t(e,o,i){function a(s,r){if(!o[s]){if(!e[s]){var c="function"==typeof require&&require;if(!r&&c)return c(s,!0);if(n)return n(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var l=o[s]={exports:{}};e[s][0].call(l.exports,function(t){var o=e[s][1][t];return a(o||t)},l,l.exports,t,e,o,i)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}return t}()({1:[function(t,e,o){var i={create:function(t){var e="";e+='<ul class="clearfix">',$.each(t.list,function(o,i){e+='<li><a class="popupPicBtn" data-type="image" data-sid="'+(t.path+i[2])+'" data-w="933" data-h="604"><img class="hero-head" src="'+(t.path+i[0])+'" alt="'+o+'"><img class="hero-head-hover" src="'+(t.path+i[1])+'" alt="'+o+'"></a></li>'}),e+="</ul>",$("#heroArea").html(e)},init:function(t){var e=window.heroDataOri;this.create(e),t.init({tar:".popupPicBtn",fnc:{after:function(){console.log("opened this")}}})}};e.exports=i},{}],2:[function(t,e,o){function i(){var t=function(t){this.container=$(t.container),this.count=t.count,this.classname=t.classname,this.tab=$(t.tab),this.tabIndex=0,this.timer=null};t.prototype={autoplay:function(){var t=this;this.timer=setInterval(function(){t.turnRight()},2e3)},endplay:function(){clearInterval(this.timer)},init:function(){var t=this;$("."+t.classname).on("click",function(e){t.endplay(),e.preventDefault();var o=$(this).attr("data-direction");"left"===o?t.turnLeft():t.turnRight()}),t.autoplay()},turnLeft:function(){this.tabIndex--,this.tabIndex=this.tabIndex<0?4:this.tabIndex,this.defaultFun("left")},turnRight:function(){this.tabIndex++,this.tabIndex=this.tabIndex>4?0:this.tabIndex,this.defaultFun("right")},defaultFun:function(t){this.tab.find("li").removeClass("cur").eq(this.tabIndex).addClass("cur"),$(this.container).find("li").each(function(){var e=$(this).attr("data-order");"left"===t&&e--,"right"===t&&e++,6===e&&(e=1),0===e&&(e=5),$(this).removeClass("po-1 po-2 po-3 po-4 po-5"),$(this).addClass("po-"+e),$(this).attr({"data-order":e})})}};var e=new t({container:".slide-list",count:5,classname:"btn-arrow",tab:".dot-list"});e.init(),$(".slide-box").mouseenter(function(t){e.endplay()}),$(".slide-box").mouseleave(function(t){e.autoplay()})}e.exports=i},{}],3:[function(t,e,o){var i=$("#voteArea"),a=i.data("id"),n={showAlert:function(t){$(".votePopMask,.votePopAlert").addClass("cur"),$("#votePopAlertText").html(t)},collect:function(){$(".votePopMask,.votePopEmail").addClass("cur")},writeRemoteFile:function(){function t(t,e){var o=void 0;return"qq"===e?o=RegExp(/^[1-9][0-9]{4,20}$/).test(t):"telephone"===e?o=RegExp(/^1\d{10}$/).test(t):"email"===e&&(o=RegExp(/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/).test(t)),o}var e=this,o="qhmyab",a="zhuanti/"+o+"/",n="infos",s=cookie(o),r=i.attr("data-selected"),c=$("#votePopIpt").val();if(null!==s&&s===c)return alert("您已经提交过了"),!1;if(t(c,"email")===!1)return alert("请输入有效的邮箱"),!1;if(""===$.trim(r))return alert("请说点什么吧"),!1;var d="---邮箱："+c+"---YES/NO："+r+"---";$.ajax({type:"GET",dataType:"jsonp",url:"http://www3.gamersky.com:81/cfile.asp",data:{Submit:"Submit",Folder:a,Fname:n,Content:d},success:function(t){}}),cookie(o,c,{path:"/"}),$("#votePopIpt").val(""),$(".votePop").removeClass("cur"),e.showAlert("提交完成")},writeCount:function(t){$.each(t.items,function(t,e){var o=e.Id,i=e.TotalNumber,a=$(".voteNum[data-vid="+o+"]");a.html(i)});var e=t.total,o=t.items[0].TotalNumber,a=o/e*100+"%";i.find(".voteBar").css("width",a)},getCount:function(){var t=this;$.ajax({type:"GET",dataType:"jsonp",url:"http://db2.gamersky.com/Vote/ShowVote.aspx",data:{json:"1",id:a},success:function(e){switch(e.status){case"ok":t.writeCount(e);break;case"err":alert(e.message)}}})},bindEvent:function(){function t(t,o){$.ajax({type:"GET",dataType:"jsonp",url:"http://db5.gamersky.com/Vote/ShowVote.aspx",data:{json:"2",id:a,vote:t},success:function(t){switch(t.status){case"ok":i.attr("data-selected",o),e.writeCount(t),e.collect();break;case"err":alert(t.message)}},error:function(t,e,o){alert("投票已经关闭！")}})}var e=this;i.find(".voteBtn").on("click",function(){var e=$(this),o=e.data("vid"),i=e.data("type");t(o,i)}),$(".votePopClose").on("click",function(){$(".votePop").removeClass("cur")}),$("#votePopSmt").on("click",function(){e.writeRemoteFile()}),$("#s2videoPlay").on("click",function(){var t=$(this),o=t.data("state"),i=t.data("vid");"open"===o?$.getScript("//vm.gtimg.cn/tencentvideo/txp/js/txplayer.js",function(){new Txplayer({containerId:"s2video",vid:i,width:"100%",height:"100%",autoplay:!0,showBullet:!1,showLogo:!1,showRecommendOnEnd:!1})}):e.showAlert(i)})},init:function(){this.bindEvent(),this.getCount()}};e.exports=n},{}],4:[function(t,e,o){var i=t("gslib/components/GsPopup"),a=t("gslib/components/GsFixCell");i.init({tar:".popupBtn"}),a.init({minWidth:1640});var n=t("./component/vote.js"),s=t("./component/hero.js"),r=t("./component/s5.js");n.init(i),s.init(i),r()},{"./component/hero.js":1,"./component/s5.js":2,"./component/vote.js":3,"gslib/components/GsFixCell":5,"gslib/components/GsPopup":6}],5:[function(t,e,o){var i={fixCellAction:function(t){function e(){var t=$(window),e=$("html"),o=e.scrollTop();o=0===o?$("body").scrollTop():e.scrollTop(),o>=s-(t.height()/2-n)?i.addClass("cur").css({marginTop:-n+"px"}):i.removeClass("cur").css({marginTop:""})}function o(){var t=$(window);t.width()<a?(i.hide(),r=!1):(i.show(),r=!0,e())}var i=$(".GsFixCell"),a=t.minWidth,n=void 0,s=i.offset().top,r=!1;n="undefined"==typeof t.halfSize?i.height()/2:t.halfSize,o(),e(),$(window).resize(o).scroll(function(){r===!0&&e()})},init:function(t){var e={minWidth:1280};e=$.extend(e,t),this.fixCellAction(e)}};e.exports=i},{}],6:[function(t,e,o){var i={config:{hideScroll:!0},scrollEnable:function(){var t=$("body");t.hasClass("GsPopupScrollHide")===!0&&t.removeClass("GsPopupScrollHide").css({overflow:"auto",paddingRight:""})},scrollDisable:function(){function t(){var t=document.createElement("p"),e={width:"100px",height:"100px"},o=void 0,i=void 0,a=void 0,n=void 0;for(o in e)t.style[o]=e[o];return document.body.appendChild(t),i=t.clientWidth,t.style.overflowY="scroll",a=t.clientWidth,n=i-a,"undefined"==typeof t.remove?t.removeNode():t.remove(),n}var e=$("body"),o=void 0;o=t(),e.addClass("GsPopupScrollHide"),e.css({overflow:"hidden",paddingRight:o+"px"})},close:function(t,e){var o=this,i=$(".GsPopup");o.closeVideo(t,e),i.removeClass("cur"),setTimeout(function(){i.remove(),o.scrollEnable()},t.timer.close)},playVideo:function(t,e){if("videoTx2"===e.type)$.getScript("//vm.gtimg.cn/tencentvideo/txp/js/txplayer.js",function(){new Txplayer({containerId:"GsPopupVideoArea",vid:e.sid,width:"100%",height:"100%",autoplay:!0,showBullet:!1,showLogo:!1,showRecommendOnEnd:!1})});else if("videoYk2"===e.type)$.getScript("//player.youku.com/jsapi",function(){new YKU.Player("GsPopupVideoArea",{styleid:"0",client_id:"6bfe5b183f11e7d9",vid:e.sid,newPlayer:!0,show_related:!1,autoplay:!0})});else if("videoH5"===e.type){var o=document.getElementById("GsPopupVideoAreaH5");o.play()}},closeVideo:function(t,e){if("videoH5"===e.type){var o=document.getElementById("GsPopupVideoArea"),i=document.getElementById("GsPopupVideoAreaH5");i.pause(),o.removeChild(i)}},addContext:function(t,e){var o="";switch(e.type){case"image":o='<div class="gs-popup-type-image"><img src="'+e.sid+'" alt="GsPopupImage"></div>';break;case"videoTx1":o='<embed wmode="direct" flashvars="vid='+e.sid+'&amp;tpid=0&amp;showend=1&amp;showcfg=1&amp;searchbar=1&amp;skin=http://imgcache.qq.com/minivideo_v1/vd/res/skins/TencentPlayerMiniSkin.swf&amp;shownext=1&amp;list=2&amp;autoplay=1" src="http://imgcache.qq.com/tencentvideo_v1/player/TPout.swf?max_age=86400&amp;v=20140714" quality="high" name="tenvideo_flash_player_1492679771297" id="tenvideo_flash_player_1492679771297" bgcolor="#000000" width="100%" height="100%" align="middle" allowscriptaccess="always" allowfullscreen="true" type="application/x-shockwave-flash" pluginspage="http://get.adobe.com/cn/flashplayer/">';break;case"videoTx2":o='<div class="gs-popup-type-video" id="GsPopupVideoArea"></div>';break;case"videoYk1":o='<embed height="100%" flashvars="isAutoPlay=true" allowscriptaccess="sameDomain" width="100%" align="middle" quality="high" invokeurls="false" src="http://player.youku.com/player.php/sid/'+e.sid+'/v.swf" type="application/x-shockwave-flash" wmode="transparent">';break;case"videoYk2":o='<div class="gs-popup-type-video" id="GsPopupVideoArea"></div>';break;case"videoH5":o='<div class="gs-popup-type-video" id="GsPopupVideoArea"><video id="GsPopupVideoAreaH5" src="'+e.sid+'" width="100%" height="100%" controls></video></div>';break;case"custom":o='<div class="gs-popup-type-custom">'+$(e.sid).html()+"</div>";break;case"jsCustom":o='<div class="gs-popup-type-jscustom" id="'+e.jscid+'" data-sid="'+e.sid+'"></div>'}return o},createDom:function(t,e){var o=this,i="",a={dad:"margin:"+-e.size.h/2+"px 0 0 "+-e.size.w/2+"px;width:"+e.size.w+"px;height:"+e.size.h+"px;"},n=$(window).height();return e.size.h>n?(a.dad+="position:absolute;margin-top:0;top:"+e.bindBtn.offset().top+"px",o.config.hideScroll=!1):o.config.hideScroll=!0,i+='<div class="GsPopup GsPopupClose gs-popup-mask"></div>',i+='<div class="GsPopup gs-popup" style="'+a.dad+'">'+o.addContext(t,e)+'<a class="gs-popup-close gs-popup-close-'+e.type+' GsPopupClose"></a></div>'},show:function(t,e){var o=this;$("body").append(o.createDom(t,e)),o.playVideo(t,e),setTimeout(function(){$(".GsPopup").addClass("cur"),o.config.hideScroll===!0&&o.scrollDisable()},30),$("body").on("click",".GsPopupClose",function(){o.close(t,e)})},bindEvent:function(t){var e=this,o={};$(t.tar).on("click",function(){var i=$(this);o.sid=i.data("sid"),o.type=i.data("type"),o.jscid=i.data("jscid"),o.bindBtn=i,o.size={w:i.data("w"),h:i.data("h")},"function"==typeof t.fnc.before&&t.fnc.before(),e.show(t,o),"function"==typeof t.fnc.after&&t.fnc.after()})},init:function(t){var e={timer:{close:250},fnc:{after:function(){},before:function(){}}};e=$.extend(e,t),this.bindEvent(e)}};e.exports=i},{}]},{},[4]);
//# sourceMappingURL=bundle.min.js.map
