"use strict";!function(){function e(o,t,i){function a(n,r){if(!t[n]){if(!o[n]){var p="function"==typeof require&&require;if(!r&&p)return p(n,!0);if(s)return s(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[n]={exports:{}};o[n][0].call(d.exports,function(e){var t=o[n][1][e];return a(t||e)},d,d.exports,e,o,t,i)}return t[n].exports}for(var s="function"==typeof require&&require,n=0;n<i.length;n++)a(i[n]);return a}return e}()({1:[function(e,o,t){var i={getComm:function(){$("#commAreaSmt").on("click",function(){var e="ow2zn",o="zhuanti/"+e+"/",t="comm",i=cookie(e+t),a=$("#commAreaIpt").val();if(null!==i&&i===a)return alert("您已经提交过了"),!1;if(""===$.trim(a))return alert("请说点什么吧"),!1;var s="---祝福："+a+"---";$.ajax({type:"GET",dataType:"jsonp",url:"http://www3.gamersky.com:81/cfile.asp",data:{Submit:"Submit",Folder:o,Fname:t,Content:s},success:function(e){}}),cookie(e+t,a,{path:"/"}),$("#commAreaIpt").val(""),alert("提交成功")})},showScreen:function(){function e(e){for(var t=e,i=[],a=Math.floor(t.length/13)+1,s=0,n=t.length;s<n;s+=a)i.push(t.slice(s,s+a));for(var r="",p=0;p<i.length;p++){for(var c="",d=0;d<i[p].length;d++)c+='<span class="commAreaR'+p+'" style="margin-right:'+(300*Math.random()+100)+'px">'+i[p][d]+"</span>";r+='<div class="comm-area-row comm-area-row'+p+' commAreaRow" data-nums="'+i[p].length+'">',r+=c,r+="</div>"}o.html(r),$(".commAreaRow").each(function(){function e(){o.animate({left:-(t+860)},3e4*Math.random()+3e3*i,"linear",function(){e(),o.css("left","100%")})}var o=$(this),t=o.width(),i=o.attr("data-nums");e()})}var o=$("#commAreaSreenMain");$.getScript("//j.gamersky.com/zhuanti/ow2zn/fkdt.js",function(){e(window.owfkdt)})},init:function(){this.showScreen(),this.getComm()}};o.exports=i},{}],2:[function(e,o,t){var i=e("gslib/components/GsPopup"),a=window.heroDataOri,s={createList:function(){function e(e,o){var t=void 0;return"qq"===o?t=RegExp(/^[1-9][0-9]{4,20}$/).test(e):"telephone"===o?t=RegExp(/^1\d{10}$/).test(e):"email"===o&&(t=RegExp(/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/).test(e)),t}var o="",t="GsPopupJsCustom";o+='<ul class="clearfix">',$.each(a.list,function(e,i){o+='<li><a class="heroPopBtn" data-herokey="'+e+'" data-type="jsCustom" data-jscid="'+t+'" data-w="873" data-h="376" data-sid="'+e+'"><img src="'+(a.path+(e+1))+'.png" alt="'+i.name+'"><i></i></a></li>'}),o+="</ul>",$("#heroArea").html(o),i.init({tar:".heroPopBtn",fnc:{after:function(){function o(e){var o="";o+='<div class="GsPopup gs-popup-alert cur"><p>'+e+'</p><a class="gs-popup-alert-close GsPopupClose"></a></div>',$("body").append(o),$(".gs-popup").removeClass("cur")}var i=$("#"+t),s=i.data("sid"),n=a.list[s],r="";r+="",r+='<div class="hero-pop">',r+='<img class="hero-pop-head" src="'+(a.path+(parseInt(s)+1))+'b.png" alt="'+n.name+'">',r+='<div class="hero-pop-top"><div class="hero-pop-info"><h5>'+n.name+'<span class="hero-pop-role"><i class="hero-pop-role-'+n.id+'"></i>'+n.role+"</span></h5><p>你想对他/她说些什么？英雄在等待你的回应。</p></div>",r+='<div class="hero-pop-textarea"><textarea name="heroFormText" id="heroFormText" placeholder="对他/她说点什么吧，英雄在等待你的回应，点击输入。\n如：你为什么喜欢她/他，他/她如何让你感动了？更或者是你送上对他/她的祝福也可以哦。"></textarea></div>',r+="</div>",r+='<div class="hero-pop-bot"><div class="clearfix hero-pop-row"><label for="heroFormIpt">您的邮箱:</label><div class="hero-pop-ipt"><input type="text" id="heroFormIpt" name="heroFormIpt" placeholder="example@example.com"></div></div></div>',r+='<a class="hero-pop-smt" id="heroFormSmt">确认提交</a></div>',i.html(r),$("#heroFormSmt").on("click",function(){var t=["英雄已经收到你的来信，请继续下面的活动哦。","英雄已经收到过你的来信，请不要重复提交哦。"],i="ow2zn",a="zhuanti/"+i+"/",s="infos",n=cookie(i),r=$("#heroFormText").val(),p=$("#heroFormIpt").val();if(null!==n&&n===p)return alert("您已经提交过了"),!1;if(e(p,"email")===!1)return alert("请输入有效的邮箱"),!1;if(""===$.trim(r))return alert("请说点什么吧"),!1;var c="---邮箱："+p+"---祝福："+r+"---";$.ajax({type:"GET",dataType:"jsonp",url:"http://www3.gamersky.com:81/cfile.asp",data:{Submit:"Submit",Folder:a,Fname:s,Content:c},success:function(e){}}),cookie(i,p,{path:"/"}),o(t[0])})}}})},init:function(){this.createList()}};o.exports=s},{"gslib/components/GsPopup":4}],3:[function(e,o,t){var i=e("./component/herobuild.js"),a=e("./component/comm.js");i.init(),a.init()},{"./component/comm.js":1,"./component/herobuild.js":2}],4:[function(e,o,t){var i={config:{hideScroll:!0},scrollEnable:function(){var e=$("body");e.hasClass("GsPopupScrollHide")===!0&&e.removeClass("GsPopupScrollHide").css({overflow:"auto",paddingRight:""})},scrollDisable:function(){function e(){var e=document.createElement("p"),o={width:"100px",height:"100px"},t=void 0,i=void 0,a=void 0,s=void 0;for(t in o)e.style[t]=o[t];return document.body.appendChild(e),i=e.clientWidth,e.style.overflowY="scroll",a=e.clientWidth,s=i-a,"undefined"==typeof e.remove?e.removeNode():e.remove(),s}var o=$("body"),t=void 0;t=e(),o.addClass("GsPopupScrollHide"),o.css({overflow:"hidden",paddingRight:t+"px"})},close:function(e,o){var t=this,i=$(".GsPopup");t.closeVideo(e,o),i.removeClass("cur"),setTimeout(function(){i.remove(),t.scrollEnable()},e.timer.close)},playVideo:function(e,o){if("videoTx2"===o.type)$.getScript("//vm.gtimg.cn/tencentvideo/txp/js/txplayer.js",function(){new Txplayer({containerId:"GsPopupVideoArea",vid:o.sid,width:"100%",height:"100%",autoplay:!0,showBullet:!1,showLogo:!1,showRecommendOnEnd:!1})});else if("videoYk2"===o.type)$.getScript("//player.youku.com/jsapi",function(){new YKU.Player("GsPopupVideoArea",{styleid:"0",client_id:"6bfe5b183f11e7d9",vid:o.sid,newPlayer:!0,show_related:!1,autoplay:!0})});else if("videoH5"===o.type){var t=document.getElementById("GsPopupVideoAreaH5");t.play()}},closeVideo:function(e,o){if("videoH5"===o.type){var t=document.getElementById("GsPopupVideoArea"),i=document.getElementById("GsPopupVideoAreaH5");i.pause(),t.removeChild(i)}},addContext:function(e,o){var t="";switch(o.type){case"image":t='<div class="gs-popup-type-image"><img src="'+o.sid+'" alt="GsPopupImage"></div>';break;case"videoTx1":t='<embed wmode="direct" flashvars="vid='+o.sid+'&amp;tpid=0&amp;showend=1&amp;showcfg=1&amp;searchbar=1&amp;skin=http://imgcache.qq.com/minivideo_v1/vd/res/skins/TencentPlayerMiniSkin.swf&amp;shownext=1&amp;list=2&amp;autoplay=1" src="http://imgcache.qq.com/tencentvideo_v1/player/TPout.swf?max_age=86400&amp;v=20140714" quality="high" name="tenvideo_flash_player_1492679771297" id="tenvideo_flash_player_1492679771297" bgcolor="#000000" width="100%" height="100%" align="middle" allowscriptaccess="always" allowfullscreen="true" type="application/x-shockwave-flash" pluginspage="http://get.adobe.com/cn/flashplayer/">';break;case"videoTx2":t='<div class="gs-popup-type-video" id="GsPopupVideoArea"></div>';break;case"videoYk1":t='<embed height="100%" flashvars="isAutoPlay=true" allowscriptaccess="sameDomain" width="100%" align="middle" quality="high" invokeurls="false" src="http://player.youku.com/player.php/sid/'+o.sid+'/v.swf" type="application/x-shockwave-flash" wmode="transparent">';break;case"videoYk2":t='<div class="gs-popup-type-video" id="GsPopupVideoArea"></div>';break;case"videoH5":t='<div class="gs-popup-type-video" id="GsPopupVideoArea"><video id="GsPopupVideoAreaH5" src="'+o.sid+'" width="100%" height="100%" controls></video></div>';break;case"custom":t='<div class="gs-popup-type-custom">'+$(o.sid).html()+"</div>";break;case"jsCustom":t='<div class="gs-popup-type-jscustom" id="'+o.jscid+'" data-sid="'+o.sid+'"></div>'}return t},createDom:function(e,o){var t=this,i="",a={dad:"margin:"+-o.size.h/2+"px 0 0 "+-o.size.w/2+"px;width:"+o.size.w+"px;height:"+o.size.h+"px;"},s=$(window).height();return o.size.h>s?(a.dad+="position:absolute;margin-top:0;top:"+o.bindBtn.offset().top+"px",t.config.hideScroll=!1):t.config.hideScroll=!0,i+='<div class="GsPopup GsPopupClose gs-popup-mask"></div>',i+='<div class="GsPopup gs-popup" style="'+a.dad+'">'+t.addContext(e,o)+'<a class="gs-popup-close gs-popup-close-'+o.type+' GsPopupClose"></a></div>'},show:function(e,o){var t=this;$("body").append(t.createDom(e,o)),t.playVideo(e,o),setTimeout(function(){$(".GsPopup").addClass("cur"),t.config.hideScroll===!0&&t.scrollDisable()},30),$("body").on("click",".GsPopupClose",function(){t.close(e,o)})},bindEvent:function(e){var o=this,t={};$(e.tar).on("click",function(){var i=$(this);t.sid=i.data("sid"),t.type=i.data("type"),t.jscid=i.data("jscid"),t.bindBtn=i,t.size={w:i.data("w"),h:i.data("h")},"function"==typeof e.fnc.before&&e.fnc.before(),o.show(e,t),"function"==typeof e.fnc.after&&e.fnc.after()})},init:function(e){var o={timer:{close:250},fnc:{after:function(){},before:function(){}}};o=$.extend(o,e),this.bindEvent(o)}};o.exports=i},{}]},{},[3]);
//# sourceMappingURL=bundle.min.js.map
